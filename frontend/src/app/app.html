<div class="app-container">
  <!-- üîπ Info usuario logueado -->
  <div *ngIf="loggedIn" class="user-info">
    <span><strong>{{ fullName }}</strong></span>
    <span>Thread: {{ threadId }}</span>
    <button class="logoff-btn" (click)="logoff()">Cerrar sesi√≥n</button>
  </div>
    <!-- Header -->
  <header class="app-header">
    <div class="logo">CreditsGPT</div>
  </header>

  <!-- Login Modal -->
  <div *ngIf="!loggedIn" class="login-modal">
    <div class="login-card">
      <h2>Login</h2>

      <label for="login">Login</label>
      <input id="login" type="text" [(ngModel)]="loginUser" placeholder="Usuario" autofocus />

      <label for="password">Password</label>
      <input id="password" type="password" [(ngModel)]="loginPassword" placeholder="Contrase√±a" (keydown.enter)="login()" />

      <button (click)="login()">Ingresar</button>

      <div class="error" *ngIf="loginError">{{ loginError }}</div>
    </div>
  </div>

  <!-- Mensajes -->
  <main *ngIf="loggedIn" class="responses">
    <div *ngFor="let msg of responses" class="response" [ngClass]="msg.who">
      <span>{{ msg.text }}</span>
    </div>
  </main>

  <!-- Caja de entrada -->
  <footer *ngIf="loggedIn" class="input-box">
    <textarea
      #msgInput
      [(ngModel)]="userInput"
      (input)="autoResize(msgInput)"
      (keydown.enter)="handleEnter($event)"
      placeholder="Escribe tu mensaje..."></textarea>
    <button (click)="sendMessage()">‚û§</button>
  </footer>
</div>
