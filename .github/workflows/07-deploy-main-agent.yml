name: WF07 - Deploy Main Agent to Azure

on:
  workflow_dispatch:

jobs:
  dummy:
    runs-on: ubuntu-latest
    steps:
      - name: Show pre requisites
        run: |
          echo "⚠️ Prerequisites:"
          echo ""
          echo "1. Create an Azure AI Foundry resource"
          echo "1.a Ir a https://ai.azure.com/resources"
          echo "1.b Dar clic en 'Create new'"
          echo ""
          echo "2.a. Seleccionar 'Azure AI Foundry resource'"
          echo "2.b. Dar clic en 'Next'"
          echo ""
          echo "3.a Nombrar al Project como '${{ vars.INFRA_AZURE_AIFOUNDRY_PROJECT_NAME }}'"
          echo "3.b Expandir 'Advanced options'"
          echo "3.c Nombrar al Azure AI Foundry resource como '${{ vars.INFRA_AZURE_AIFOUNDRY_RESOURCE_NAME }}'"
          echo "3.d Seleccionar la suscripción '${{ vars.INFRA_AZURE_SUBSCRIPTION_NAME }}'"
          echo "3.e Seleccionar el grupo de recursos '${{ vars.INFRA_AZURE_RESOURCE_GROUP_NAME }}'"
          echo "3.f Seleccionar la región '${{ vars.INFRA_AZURE_REGION_NAME }}'"
          echo "3.g Dar clic en 'Create'"
          echo ""
          echo "4.a Esperar a que se cree el recurso (puede tardar varios minutos)"
          echo ""
          echo "5.a En el menú lateral izquierdo, ubicar 'Build and customize' y luego dar clic en 'Agents'"
          echo "5.b Se debe abrir automáticamente la pantalla 'Deploy a model'"
          echo "5.c Seleccionar el modelo '${{ vars.INFRA_AZURE_AIFOUNDRY_MODEL_NAME }}'"
          echo "5.d Dar clic en 'Confirm'"
          echo "5.e Nombrar el Deployment como '${{ vars.INFRA_AZURE_AIFOUNDRY_DEPLOYMENT_NAME }}'"
          echo "5.f Dar clic en 'Deploy'"
          echo ""
          echo "6.a Tomar nota"


INFRA_AZURE_AIFOUNDRY_RESOURCE_NAME=aifcantolao
INFRA_AZURE_AIFOUNDRY_PROJECT_NAME=prjcantolao
INFRA_AZURE_AIFOUNDRY_PROJECT_DESCRIPTION="Proyecto de agente conversacional con Azure AI Foundry"

INFRA_AZURE_AIFOUNDRY_AGENT_NAME=agentcantolao

INFRA_AZURE_AIFOUNDRY_AGENT_ACTION_TOOL_NAME=tool_credits
INFRA_AZURE_AIFOUNDRY_AGENT_INSTRUCTIONS=./main-agent/instructions/credits.txt

