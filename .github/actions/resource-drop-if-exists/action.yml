name: Resource drop if exists
description: Delete a resource if exists using az subcommand
inputs:
  checkCmd:
    description: Command to check if resource exists
    required: true
  deleteCmd:
    description: Command to delete the resource
    required: true
runs:
  using: composite
  steps:
    - name: Drop resource if exists
      shell: bash
      run: |
        if ${{
          inputs.checkCmd
        }} &>/dev/null; then
          echo "ğŸ—‘ï¸ Deleting: ${{ inputs.deleteCmd }}"
          ${{ inputs.deleteCmd }}
        else
          echo "âš ï¸ Resource not found. Skipping."
        fi