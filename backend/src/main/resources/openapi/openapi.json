{
  "openapi": "3.1.0",
  "info": {
    "contact": {
      "email": "devs@tuempresa.com",
      "name": "Equipo de Desarrollo"
    },
    "description": "API para información y gestión de créditos simples.",
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0.html"
    },
    "title": "Credit API REST",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://backend.springonly.com",
      "description": "Servidor Spring Only"
    }
  ],
  "components": {
    "schemas": {
      "CreateCustomerRequest": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string"
          },
          "customerName": {
            "type": "string"
          },
          "customerTypeId": {
            "type": "string"
          },
          "riskCategoryId": {
            "type": "string"
          },
          "lineOfCreditAmount": {
            "type": "number"
          },
          "relationshipManagerId": {
            "type": "string"
          }
        }
      },
      "CreateCustomerResponse": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string"
          },
          "customerName": {
            "type": "string"
          },
          "customerTypeId": {
            "type": "string"
          },
          "riskCategoryId": {
            "type": "string"
          },
          "lineOfCreditAmount": {
            "type": "number"
          },
          "relationshipManagerId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "CreateLoanRequest": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string"
          },
          "currencyId": {
            "type": "string"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestRate": {
            "type": "number"
          },
          "loanDisbursementDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "numberOfMonthlyPayments": {
            "type": "integer",
            "format": "int16"
          }
        }
      },
      "CreateLoanResponse": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "integer",
            "format": "int32"
          },
          "customerId": {
            "type": "string"
          },
          "currencyId": {
            "type": "string"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestRate": {
            "type": "number"
          },
          "loanDisbursementDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "numberOfMonthlyPayments": {
            "type": "integer",
            "format": "int16"
          },
          "loanStateId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "CreatePaymentRequest": {
        "type": "object",
        "properties": {
          "dueDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestAmount": {
            "type": "number"
          }
        }
      },
      "CreatePaymentResponse": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "integer",
            "format": "int32"
          },
          "paymentNumber": {
            "type": "integer",
            "format": "int16"
          },
          "dueDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestAmount": {
            "type": "number"
          },
          "totalPaymentAmount": {
            "type": "number"
          },
          "paymentStateId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "code": {
            "type": "string"
          }
        }
      },
      "GetCustomerByIdResponse": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string"
          },
          "customerName": {
            "type": "string"
          },
          "customerTypeId": {
            "type": "string"
          },
          "riskCategoryId": {
            "type": "string"
          },
          "lineOfCreditAmount": {
            "type": "number"
          },
          "relationshipManagerId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "GetLoanByIdResponse": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "integer",
            "format": "int32"
          },
          "customerId": {
            "type": "string"
          },
          "currencyId": {
            "type": "string"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestRate": {
            "type": "number"
          },
          "loanDisbursementDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "numberOfMonthlyPayments": {
            "type": "integer",
            "format": "int16"
          },
          "loanStateId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "GetPaymentByIdResponse": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "integer",
            "format": "int32"
          },
          "paymentNumber": {
            "type": "integer",
            "format": "int16"
          },
          "dueDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestAmount": {
            "type": "number"
          },
          "totalPaymentAmount": {
            "type": "number"
          },
          "paymentStateId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "GetRelationshipManagerByIdResponse": {
        "type": "object",
        "properties": {
          "relationshipManagerId": {
            "type": "string"
          },
          "relationshipManagerName": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "LocalDate": {
        "type": "string",
        "format": "date",
        "examples": [
          "2022-03-10"
        ]
      },
      "LoginRelationshipManagerRequest": {
        "type": "object",
        "properties": {
          "relationshipManagerId": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "LoginRelationshipManagerResponse": {
        "type": "object",
        "properties": {
          "relationshipManagerId": {
            "type": "string"
          },
          "relationshipManagerName": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "OffsetDateTime": {
        "type": "string",
        "format": "date-time",
        "examples": [
          "2022-03-10T12:15:50-04:00"
        ]
      },
      "UUID": {
        "type": "string",
        "format": "uuid",
        "pattern": "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
      },
      "UpdateCustomerRequest": {
        "type": "object",
        "properties": {
          "customerName": {
            "type": "string"
          },
          "customerTypeId": {
            "type": "string"
          },
          "riskCategoryId": {
            "type": "string"
          },
          "lineOfCreditAmount": {
            "type": "number"
          },
          "relationshipManagerId": {
            "type": "string"
          }
        }
      },
      "UpdateCustomerResponse": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string"
          },
          "customerName": {
            "type": "string"
          },
          "customerTypeId": {
            "type": "string"
          },
          "riskCategoryId": {
            "type": "string"
          },
          "lineOfCreditAmount": {
            "type": "number"
          },
          "relationshipManagerId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "UpdateLoanRequest": {
        "type": "object",
        "properties": {
          "loanStateId": {
            "type": "string"
          }
        }
      },
      "UpdateLoanResponse": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "integer",
            "format": "int32"
          },
          "customerId": {
            "type": "string"
          },
          "currencyId": {
            "type": "string"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestRate": {
            "type": "number"
          },
          "loanDisbursementDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "numberOfMonthlyPayments": {
            "type": "integer",
            "format": "int16"
          },
          "loanStateId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "UpdatePaymentRequest": {
        "type": "object",
        "properties": {
          "paymentStateId": {
            "type": "string"
          }
        }
      },
      "UpdatePaymentResponse": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "integer",
            "format": "int32"
          },
          "paymentNumber": {
            "type": "integer",
            "format": "int16"
          },
          "dueDate": {
            "$ref": "#/components/schemas/LocalDate"
          },
          "principalAmount": {
            "type": "number"
          },
          "interestAmount": {
            "type": "number"
          },
          "totalPaymentAmount": {
            "type": "number"
          },
          "paymentStateId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      },
      "UpdateRelationshipManagerThreadIdRequest": {
        "type": "object",
        "properties": {
          "threadId": {
            "$ref": "#/components/schemas/UUID"
          }
        }
      },
      "UpdateRelationshipManagerThreadIdResponse": {
        "type": "object",
        "properties": {
          "relationshipManagerId": {
            "type": "string"
          },
          "relationshipManagerName": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "writtenAt": {
            "$ref": "#/components/schemas/OffsetDateTime"
          }
        }
      }
    }
  },
  "paths": {
    "/api/customers": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "post": {
        "summary": "Create customer",
        "description": "Create a new customer and return its created representation.",
        "operationId": "createCustomer",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCustomerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Customer created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateCustomerResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Customer Resource"
        ]
      }
    },
    "/api/customers/{customerId}": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "patch": {
        "summary": "Update customer",
        "description": "Update customer data identified by customerId.",
        "operationId": "updateCustomer",
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCustomerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Customer updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateCustomerResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Customer not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Customer Resource"
        ]
      },
      "get": {
        "summary": "Get customer by id",
        "description": "Retrieve customer details by customerId.",
        "operationId": "getCustomerById",
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Customer retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetCustomerByIdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Customer not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Customer Resource"
        ]
      }
    },
    "/api/customers/{customerId}/loans": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "get": {
        "summary": "List loans by customer",
        "description": "List loans associated with the specified customerId.",
        "operationId": "listLoansByCustomerId",
        "parameters": [
          {
            "name": "customerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Loans list for customer",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetLoanByIdResponse"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No loans found for customer",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Customer Resource"
        ]
      }
    },
    "/api/loans": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "post": {
        "summary": "Create loan",
        "description": "Create a new loan for a customer and return the created loan information.",
        "operationId": "createLoan",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLoanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Loan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateLoanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Loan Resource"
        ]
      }
    },
    "/api/loans/{loanId}": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "patch": {
        "summary": "Update loan",
        "description": "Update an existing loan's details identified by loanId.",
        "operationId": "updateLoan",
        "parameters": [
          {
            "name": "loanId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLoanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Loan updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateLoanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Loan not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Loan Resource"
        ]
      },
      "get": {
        "summary": "Get loan by id",
        "description": "Retrieve detailed information for a loan identified by loanId.",
        "operationId": "getLoanById",
        "parameters": [
          {
            "name": "loanId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Loan retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetLoanByIdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Loan not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Loan Resource"
        ]
      }
    },
    "/api/loans/{loanId}/payments": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "get": {
        "summary": "List payments",
        "description": "List all payments associated to a given loan.",
        "operationId": "listPaymentsByLoanId",
        "parameters": [
          {
            "name": "loanId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payments list for loan",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetPaymentByIdResponse"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No payments found for loan",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payment Resource"
        ]
      }
    },
    "/api/loans/{loanId}/payments/{paymentNumber}": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "patch": {
        "summary": "Update payment",
        "description": "Update an existing payment for a loan identified by loanId and paymentNumber.",
        "operationId": "updatePayment",
        "parameters": [
          {
            "name": "loanId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "paymentNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int16"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePaymentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Payment updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdatePaymentResponse"
                }
              }
            }
          },
          "404": {
            "description": "Payment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payment Resource"
        ]
      },
      "get": {
        "summary": "Get payment by id",
        "description": "Retrieve a specific payment for a loan by loanId and paymentNumber.",
        "operationId": "getPaymentById",
        "parameters": [
          {
            "name": "loanId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "paymentNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int16"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetPaymentByIdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Payment not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payment Resource"
        ]
      },
      "post": {
        "summary": "Create payment",
        "description": "Create a payment for a specific loan and payment number.",
        "operationId": "createPayment",
        "parameters": [
          {
            "name": "loanId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "paymentNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int16"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePaymentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Payment created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreatePaymentResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payment Resource"
        ]
      }
    },
    "/api/relationship-managers/login": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "post": {
        "summary": "Login relationship manager",
        "description": "Authenticate a relationship manager and return session or token details.",
        "operationId": "loginRelationshipManager",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRelationshipManagerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginRelationshipManagerResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          }
        },
        "tags": [
          "Relationship Manager Resource"
        ]
      }
    },
    "/api/relationship-managers/{relationshipManagerId}": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "patch": {
        "summary": "Update thread id",
        "description": "Update the thread id information for a relationship manager.",
        "operationId": "updateRelationshipManagerThreadId",
        "parameters": [
          {
            "name": "relationshipManagerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRelationshipManagerThreadIdRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Relationship manager thread id updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateRelationshipManagerThreadIdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Relationship manager not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Relationship Manager Resource"
        ]
      },
      "get": {
        "summary": "Get relationship manager",
        "description": "Retrieve relationship manager details by id.",
        "operationId": "getRelationshipManagerById",
        "parameters": [
          {
            "name": "relationshipManagerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Relationship manager retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetRelationshipManagerByIdResponse"
                }
              }
            }
          },
          "404": {
            "description": "Relationship manager not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Relationship Manager Resource"
        ]
      }
    },
    "/api/relationship-managers/{relationshipManagerId}/customers": {
      "parameters": [
        {
          "name": "X-RelationshipManager-Id",
          "in": "header",
          "schema": {
            "type": "string"
          }
        }
      ],
      "get": {
        "summary": "List customers",
        "description": "List customers assigned to a specific relationship manager.",
        "operationId": "listCustomersByRelationshipManagerById",
        "parameters": [
          {
            "name": "relationshipManagerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Customers list for relationship manager",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GetCustomerByIdResponse"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No customers found for relationship manager",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Relationship Manager Resource"
        ]
      }
    }
  }
}